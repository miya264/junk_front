(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},203:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(5480),r(2029),r(5866);var s=r(3191),a=r(8716),n=r(7922),o=r.n(n),l=r(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5480)),"C:\\Next.js\\JUNK\\front2\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"C:\\Next.js\\JUNK\\front2\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Next.js\\JUNK\\front2\\src\\app\\page.tsx"],u="/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},602:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},8715:()=>{},4401:(e,t,r)=>{Promise.resolve().then(r.bind(r,6774))},6774:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(326),a=r(7577),n=r(5047),o=r(7091);let l=/^[0-9]{5,}$/,i=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,d="login_lock_info";function c(){try{return JSON.parse(localStorage.getItem(d)||"{}")}catch{return{count:0}}}function u(e){localStorage.setItem(d,JSON.stringify(e))}function x(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)(""),[x,m]=(0,a.useState)(""),[p,g]=(0,a.useState)(!1),[f,h]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),j=(0,a.useMemo)(c,[]),v=Date.now(),N=(j.lockedUntil&&j.lockedUntil>v?j.lockedUntil-v:0)>0,P=t&&!l.test(t)?"職員番号は5桁以上の数字で入力してください":"",w=x&&!i.test(x)?"半角英数8文字以上（英字・数字を各1文字以上）":"",_=!N&&l.test(t)&&i.test(x)&&!f;async function S(r){if(r.preventDefault(),_){h(!0),y(null);try{let r=await o.ZP.hash(x,10);if(!(l.test(t)&&i.test(x)))throw Error("認証に失敗しました");let s=btoa(JSON.stringify({sub:t,iat:Date.now(),rnd:crypto.getRandomValues(new Uint32Array(1))[0]}));sessionStorage.setItem("auth",JSON.stringify({token:s,clientHashedPassword:r,expiresAt:Date.now()+36e5})),localStorage.removeItem(d),e.push("/project_start")}catch(t){let e=(c().count||0)+1;e>=5?(u({count:0,lockedUntil:Date.now()+3e5}),y(`試行回数が上限に達しました。${Math.ceil(5)}分後に再試行してください。`)):(u({count:e,lockedUntil:0}),y(`ログインに失敗しました（残り ${5-e} 回でロック）`))}finally{h(!1)}}}return(0,s.jsxs)("form",{onSubmit:S,autoComplete:"off",className:"bg-white rounded-xl border border-gray-200 p-8 shadow-sm",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"職員番号"}),s.jsx("input",{inputMode:"numeric",autoCapitalize:"off",autoCorrect:"off",name:"empId",placeholder:"12345",value:t,onChange:e=>r(e.target.value.trim()),disabled:f||N,className:`w-full rounded-lg border px-3 py-2 mb-2 outline-none ${P?"border-red-300 focus:border-red-400":"border-gray-300 focus:border-gray-400"}`}),P&&s.jsx("p",{className:"text-xs text-red-500 mb-3",children:P}),s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:p?"text":"password",autoCapitalize:"off",autoCorrect:"off",name:"password",placeholder:"パスワード",value:x,onChange:e=>m(e.target.value),disabled:f||N,className:`w-full rounded-lg border px-3 py-2 pr-10 outline-none ${w?"border-red-300 focus:border-red-400":"border-gray-300 focus:border-gray-400"}`}),s.jsx("button",{type:"button",tabIndex:-1,onClick:()=>g(e=>!e),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":p?"パスワードを隠す":"パスワードを表示"})]}),w&&s.jsx("p",{className:"text-xs text-red-500 mt-2",children:w}),s.jsx("div",{className:"mt-3",children:s.jsx("a",{className:"text-xs text-gray-500 underline hover:text-gray-700",href:"/forgot",children:"パスワードを忘れた方はこちら"})}),b&&s.jsx("p",{className:"mt-4 text-sm text-red-600",children:b}),N&&s.jsx("p",{className:"mt-2 text-xs text-orange-600",children:"ログインが一時的に制限されています（しばらくお待ちください）"}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx("button",{type:"submit",disabled:!_,className:"px-10 py-2 rounded-full bg-slate-800 text-white disabled:opacity-50",children:f?"Processing…":"Login"})})]})}function m(){return s.jsx("main",{className:"min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"max-w-xl mx-auto px-4 py-16",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-8",children:[s.jsx("img",{src:"/logo.png",alt:"METIST",className:"h-8"}),s.jsx("span",{className:"text-2xl font-semibold tracking-wide text-sky-700",children:"METIST"})]}),s.jsx(x,{})]})})}},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>a});var s=r(9510);r(5023);let a={title:"AIエージェント - インテリジェント検索対応チャット",description:"AIエージェントとのチャット機能を提供するアプリケーション"};function n({children:e}){return s.jsx("html",{lang:"ja",children:s.jsx("body",{children:e})})}},974:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`C:\Next.js\JUNK\front2\src\app\login\page.tsx#default`)},5480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=r(974).default},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[819,308],()=>r(203));module.exports=s})();